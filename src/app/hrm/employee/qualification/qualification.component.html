<div class="row" style="margin-top:  -10px; margin-bottom:  36px;">
  <h4>Add New Qualification</h4>
</div>


<div class="m-accordion m-accordion--default m-accordion--solid" id="m_accordion_3" role="tablist">
    <!--begin::Item-->
    <div class="m-accordion__item">
      <div class="m-accordion__item-head collapsed" role="tab" id="m_accordion_3_item_1_head" data-toggle="collapse" href="#m_accordion_3_item_1_body" aria-expanded="    false">
        <span class="m-accordion__item-icon">
          <i class="la la-graduation-cap"></i>
        </span>
        <span class="m-accordion__item-title">
          Add New Qualification
        </span>
        <span class="m-accordion__item-mode"></span>
      </div>
      <div class="m-accordion__item-body collapse" id="m_accordion_3_item_1_body" role="tabpanel" aria-labelledby="m_accordion_3_item_1_head" data-parent="#m_accordion_3">
        <div class="m-accordion__item-content">
            
<form class="signup-form" [formGroup]="employee.QualificationForm">
  <div class="row">
    <div class="col-md-5">
      <div class="form-group m-form__group">
        <label for="name">Add Name of Institution</label>
        <input #u class="form-control m-input m-input--solid" placeholder="Institute" type="text">
      </div>
    </div>

    <div class="col-md-4">
      <div class="form-group m-form__group">
        <label for="education_level" class="control-label">Select Institute</label>
        <select (change)="setSelectedUniversity($event)" class="form-control m-input m-input--solid">
          <option value="" disabled selected>-- Select Added Institute --</option>
          <option *ngFor="let uni of employee.addedUniversities" [value]="uni.Name">{{uni.Name}}</option>
        </select>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group m-form__group">
        <button (click)="p($event, u.value)">Add</button>
      </div>
    </div>
  </div>
 
  <div class="row">
    <div class="col-md-4">
      <div class="form-group m-form__group">
        <label for="skill" class="control-label">Degree</label>
        <select class="form-control m-input m-input--solid" formControlName="DegreeId" [value]="Employee?.degreeId">
          <option value="" disabled selected>-- Select Degree --</option>
          <option *ngFor="let degree of SetupServiceobj?.degree" [value]="degree.degreeId">{{degree.name}}</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group m-form__group">
        <label for="skill" class="control-label">Majors</label>
        <input class="form-control m-input m-input--solid" placeholder="Qualification" formControlName="Name" [value]="Employee?.name"
          type="text">
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group m-form__group">
        <label for="language" class="control-label">Grade</label>
        <input class="form-control m-input m-input--solid" placeholder="to" formControlName="Grade" [value]="Employee?.grade" type="text">
      </div>
    </div>
  </div> 

  <div class="row">
    <div class="col-md-6">
      <div class="form-group m-form__group">
        <label for="from_year" class="control-label">Time Period From</label>

        <input class="form-control m-input m-input--solid" formControlName="Timefrom" [value]="Employee?.timefrom" placeholder="from" type="date">
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group m-form__group">
        <label for="from_year" class="control-label">To</label>
        <input class="form-control m-input m-input--solid" formControlName="Timeto" [value]="Employee?.timeto" placeholder="to" name="to_year" type="date">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="form-group m-form__group">
        <label for="skill" class="control-label">Corses (if any)</label>
        <input class="form-control m-input m-input--solid" placeholder="Qualification" formControlName="Courses" [value]="Employee?.courses" name="courses" type="text">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="form-group m-form__group">
        <label for="to_year" class="control-label">Description</label>
        <textarea class="form-control m-input m-input--solid" formControlName="Description" [value]="Employee?.description" placeholder="Description" data-show-counter="1"
          data-limit="300" name="description" cols="30" rows="3" id="d_description"></textarea>
      </div>
    </div>
  </div>
  <div *ngIf="router.url === '/hrm/employee/updateemployee/'+id">
    <button (click)="update(employee.QualificationForm.value)">
        update
      </button>        
</div>
</form> 
</div>
</div>
</div>
<!--end::Item-->  
</div>

<div class="row">
    <div class="col-xl-12">
      <div class="m-portlet">
        <div class="m-portlet__head">
          <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
              <h3 class="m-portlet__head-text">Education Detail</h3>
            </div>
          </div>
        </div>
        <div class="m-portlet__body">
          <div class="m-section">
            <div class="m-section__content">
              <dx-data-grid id="gridContainer"
               [dataSource]="qualification"
               keyExpr="universityId" 
               (onRowUpdated)="updateQualification()"
               (onRowUpdating)="updatingQualification($event)" >
                <dxo-editing mode="row" [allowUpdating]="true" [allowDeleting]="false" [allowAdding]="false" [useIcons]="true">
                  <dxo-popup title="Education Detail" [showTitle]="true" [width]="700" [height]="345" [position]="{ my: 'center', at: 'center', of: window }">
                  </dxo-popup>
                </dxo-editing>
                <dxo-filter-row [visible]="true"></dxo-filter-row>
                <dxo-header-filter [visible]="true"></dxo-header-filter>

                <dxo-search-panel [visible]="true" [width]="240" placeholder="Search..."></dxo-search-panel>
                <dxo-paging [pageSize]="6"></dxo-paging>
                <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[5, 10, 20]" [showInfo]="true">
                </dxo-pager> 
                <dxi-column dataField="name"></dxi-column>
                <dxi-column dataField="qualifications.name"></dxi-column>
                <dxi-column dataField="timeFrom" dataType="date" format="shortDate"></dxi-column>
                <dxi-column dataField="timeTo" dataType="date" format="shortDate"></dxi-column>
                <dxi-column dataField="grade"></dxi-column>
                <dxi-column dataField="courses"></dxi-column>
                <dxi-column dataField="description"></dxi-column>
                <dxi-column dataField="degreeId" caption="Employee">
                    <dxo-lookup [dataSource]="SetupServiceobj?.degree" displayExpr="name" valueExpr="degreeId">
                    </dxo-lookup> 
              </dxi-column> 
              </dx-data-grid>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 
