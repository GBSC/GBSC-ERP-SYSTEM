<div class="m-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="m-portlet">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Visits
                            </h3>
                        </div>
                    </div>
                    <div class="m-portlet__head-tools">
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                <span>
                                    <i class="fa fa-cog"></i>
                                </span> Actions
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                                <button class="dropdown-item" type="button">
                                    Action
                                </button>
                                <button class="dropdown-item" type="button">
                                    Another action
                                </button>
                                <button class="dropdown-item" type="button">
                                    Something else here
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active show" data-toggle="tab" href="#m_tabs_1_1">
                                Visits
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#m_tabs_1_3">
                                Appointment
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#m_tabs_1_2">
                                Visit Note
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#m_tabs_1_4">
                                Visit Test
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#m_tabs_1_5">
                                Visit Diagnosis
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active show" id="m_tabs_1_1" role="tabpanel">
                            <div class="row">
                                <!-- <div class="col-md-3">
                                    <div class="m-demo" data-code-preview="true" data-code-html="true" data-code-js="false">
                                        <div class="m-demo__preview">
                                            <span class="m-portlet__head-icon">
                                                <i class="fa fa-clock-o"></i>
                                                04.June.2018 (active since 05:45 AM)
                                            </span>
                                            <div class="m-separator m-separator--dashed m--margin-top-5"></div>
                                            <p class="">
                                                <span class="m-portlet__head-icon lead">
                                                    <i class="fa fa-stethoscope"></i>
                                                    No diagnoses yet.
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div> -->
                                <div class="col-md-9">
                                    <div class="alert m-alert m-alert--default" role="alert">
                                        <span class="m-portlet__head-icon">
                                            <span class="m-badge m-badge--success m-badge--dot"></span>
                                            Active Visit
                                            <i class="fa fa-clock-o"></i>
                                            Started{{vist?.startTime}}
                                        </span>
                                    </div>
                                    <div class="m-demo" data-code-preview="true" data-code-html="true" data-code-js="false">
                                        <div class="m-demo__preview">
                                            <a (click)="onEndVisit()" class="col-md-4 btn btn-primary m-btn m-btn--custom m-btn--icon">
                                                <span>
                                                    <i class="fa fa-power-off"></i>
                                                    <span>
                                                        End Visit
                                                    </span>
                                                </span>
                                            </a> |
                                            <a (click)="onSubmit()" class="col-md-4 btn btn-primary m-btn m-btn--custom m-btn--icon">
                                                <span>
                                                    <i class="fa fa-sign-in"></i>
                                                    <span>
                                                        Capture Vitals
                                                    </span>
                                                </span>
                                            </a>
                                            <!-- <div class="m--space-10"></div>
                                            <a (click)="onSubmit()" class="col-md-4 btn btn-primary m-btn m-btn--custom m-btn--icon">
                                                <span>
                                                    <i class="fa fa-heartbeat"></i>
                                                    <span>
                                                        Capture Vitals
                                                    </span>
                                                </span>
                                            </a> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="m_tabs_1_3" role="tabpanel">
                            <h3 class="m--font-danger">Patient Appointments</h3>
                            <div class="m--space-20"></div>
                            <form [formGroup]="PatientAppointmentForm">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label for="Timeframe"> consultant </label>
                                        <select #cid class="form-control m-input ng-pristine ng-invalid ng-touched" formControlName="ConsultantId" required>
                                            <option *ngFor="let consultant of PatientServiceobj?.consultant" [value]="consultant.consultantId">{{consultant.name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="Clear"> Visit Nature </label>
                                        <dx-select-box [items]="visitNatures" displayExpr="nature" valueExpr="visitNatureId" [searchEnabled]="true" formControlName="visitNatureId">
                                        </dx-select-box>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="Clear"> Tentative Time </label>
                                        <input class="form-control m-input m-input--solid ng-pristine ng-invalid ng-touched" formControlName="TentativeTime" type="date"
                                            required>
                                    </div>
                                </div>
                                <div class="m-portlet__foot m-portlet__foot--fit">
                                    <div class="form-group m-form__group row">
                                        <div class="col-lg-6  col-sm-12">
                                            <div class="m-form__actions">
                                                <button (click)="addappointment(PatientAppointmentForm.value)" class="btn btn-danger m--pull-left" type="reset">
                                                    Save
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6  col-sm-12">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" id="m_tabs_1_2" role="tabpanel">
                            <form [formGroup]="PatientVisitNoteForm">
                                <h3 class="m--font-danger">Add Visit Note</h3>
                                <div class="m--space-20"></div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group m-form__group">
                                            <label for="exampleTextarea">
                                                Clinical Note
                                            </label>
                                            <textarea formControlName="ClinicalNote" class="form-control m-input m-input--air" id="exampleTextarea" rows="5"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="m-portlet__foot m-portlet__foot--fit">

                                    <div class="form-group m-form__group row">
                                        <div class="col-lg-6  col-sm-12">
                                            <div class="m-form__actions">
                                                <button (click)="onsubmit(PatientVisitNoteForm.value)" class="btn btn-danger m--pull-left" type="reset">
                                                    Save
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6  col-sm-12">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" id="m_tabs_1_4" role="tabpanel">
                            <form [formGroup]="VisitTestForm">
                                <div class="row">
                                    <div class="form-group col-lg-3">
                                        <dx-select-box [items]="PatientServiceobj?.testing" displayExpr="testName" valueExpr="testId" [searchEnabled]="true" formControlName="TestId">
                                        </dx-select-box>
                                    </div>
                                    <div class="form-group col-lg-6">
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <button type="button" (click)="addrangeForTest()" class="btn btn-primary">
                                            Add
                                        </button>
                                    </div>
                                </div>
                                <div class="m-section">
                                    <div class="m-section__content">
                                        <table class="table m-table m-table--head-separator-primary">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        Test Name
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor=" let t of VisitTests; let i = index">
                                                    <td>{{t.TestName}}</td>
                                                    <td>
                                                        <button type="button" (click)="removeTest(i)" class="btn btn-primary">
                                                            <i class="la la-archive"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="reset" class="btn btn-secondary">
                                        Reset
                                    </button>
                                    <button type="button" (click)="onAddvisittest()" data-dismiss="modal" class="btn btn-primary">
                                        Save
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" id="m_tabs_1_5" role="tabpanel">
                            <form [formGroup]="VisitDiagnosesForm">
                                <div class="row">
                                    <div class="form-group col-lg-3">
                                        <dx-select-box [items]="PatientServiceobj?.diagnoses" displayExpr="name" valueExpr="diagnosisId" [searchEnabled]="true" formControlName="DiagnosisId">
                                        </dx-select-box>
                                    </div>
                                    <div class="form-group col-lg-6">
                                    </div>
                                    <div class="form-group col-lg-3">
                                        <button type="button" (click)="addrangeForDiagnosis()" class="btn btn-primary">
                                            Add
                                        </button>
                                    </div>
                                </div>
                                <div class="m-section">
                                    <div class="m-section__content">
                                        <table class="table m-table m-table--head-separator-primary">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        Diagnose Name
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor=" let t of VisitDiagnoses; let i = index">
                                                    <td>{{t.DiagnosName}}</td>
                                                    <td>
                                                        <button type="button" (click)="removediagnosis(i)" class="btn btn-primary">
                                                            <i class="la la-archive"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="reset" class="btn btn-secondary">
                                        Reset
                                    </button>
                                    <button type="button" (click)="onAddvisitdiagnosis()" data-dismiss="modal" class="btn btn-primary">
                                        Save
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>